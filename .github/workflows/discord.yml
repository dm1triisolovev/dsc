name: Notify Discord on Release

on:
  release:
    types: [published]
  workflow_dispatch:

jobs:
  notify-discord:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Send release notification to Discord
        uses: Ilshidur/action-discord@master
        with:
          webhook: ${{ secrets.DISCORD_WEBHOOK }}
          message: |
            **🚨 New Release Published!**
            📝 `${{ github.event.release.name }}`
            🔗 [View Release](${{ github.event.release.html_url }})
            🕒 Released at: `${{ github.event.release.published_at }}`
